# 素集合データ構造

## 導入

素集合データ構造（Unoin-Find、素集合）は、不連続集合の結合と問い合わせを処理するために使用される木構造である。

素集合の考え方は、森林（木の集合）を配列で表現し、木のルートで集合を特定し、ある要素のルートを見つければ、それがどの集合に属するかを判断できるようになる。

## 説明

通常、各要素が単一要素の集合を形成することから始め、同じグループに属する要素の集合を一定の順序で合併し、その間、ある要素がどの集合に入っているかを繰り返し探す。この処理は一見複雑には見えないが、データ量が非常に多い場合、他のデータ構造で実装すると、コンピュータが扱う容量が大きすぎ、短時間で結果を計算できないことが多いため、素集合で扱うしかないのである。

## 素集合のデータ表現

![](https://cdn.jsdelivr.net/gh/Kakusi-IO/runoob-img/20220908110028.png)

上記のように0-4はすべて0、5-9はすべて1となっており、0、1、2、3、4の5つの要素がつながり、5、6、7、8、9の5つの要素がつながっていることがわかります。

![](https://cdn.jsdelivr.net/gh/Kakusi-IO/runoob-img/20220908110052.png)

ここでも、集合0，2，4，6，8は集合0より下にあり、5つの要素0，2，4，6，8がつながっていることを示しており、集合1，1，3，5，7，9は集合1より下にあり、5つの要素0，1，3，5，7，9がつながっていることがわかります。

## JAVAの実装

```java
package runoob.union;

public class UnionFind{
    private int[] id;
    // 数据个数
    private int count;

    public UnionFind1(int n) {
        count = n;
        id = new int[n];
        for (int i = 0; i < n; i++)
            id[i] = i;
    }

}  
```

[JAVAソースコードを取得](https://www.runoob.com/wp-content/uploads/2020/10/runoob-algorithm-union.zip)