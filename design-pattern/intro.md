# デザインパターン紹介

デザインパターンはベストプラクティスであり、オブジェクト指向プログラミングに経験豊富なソフトウェア開発者がよく採用している。デザインパターンは、ソフトウェア開発者がソフトウェア開発プロセスで直面する一般的な問題に対する解決策である。これらのソリューションは、多くのソフトウェア開発者が相当な時間をかけて試行錯誤を重ねた結果である。

デザインパターンは、繰り返し使用され、ほとんどが知られており、分類され、カタログ化された、コード設計の経験の要約のセットである。デザインパターンは、コードの再利用や他者への理解を容易にし、コードの信頼性を確保するために使用されます。 デザインパターンは、自分にも他人にもシステムにもメリットがあることは間違いありません。 ビルのレンガと同じように、ソフトウェアエンジニアリングの基礎となるものです。各パターンには、それに対応する現実の原理があり、各パターンは、私たちの周りで繰り返し起こる問題とその問題の核となる解決策を記述しており、これがデザインパターンが広く使われている理由である。

## GOF（Gang of Four）とは？

1994年、Erich Gamma、Richard Helm、Ralph Johnson、John Vlissidesは『オブジェクト指向における再利用のためのデザインパターン』(原題:Design Patterns: Elements of Reusable Object-Oriented Software) という本を出版した。本書は、ソフトウェア開発におけるデザインパターンの概念について初めて言及したものである。

4人の著者を総称してGOF（Gang of Four）と呼んでいる。彼らが提案するデザインパターンは、主に以下のようなオブジェクト指向の設計原則に基づいている。

- 実装ではなく、プログラミングのインターフェース。
- 継承よりもオブジェクトの組み合わせを優先すること。

## デザインパターンの活用

ソフトウェア開発におけるデザインパターンの主な用途は2つあります。

### 開発者向け共通プラットフォーム

デザインパターンは、用語の標準体系を提供し、特定のシナリオに特化したものである。 例えば、シングルインスタンスデザインパターンは、単一のオブジェクトの使用を意味しており、シングルインスタンス（single interface）デザインパターンを熟知したすべての開発者は、単一のオブジェクトを使用し、この方法でプログラムがシングルインスタンスパターンを使用していることを互いに伝えることができる。

### ベストプラクティス

デザインパターンは、長い時間をかけて開発されたもので、ソフトウェア開発時に直面する一般的な問題に対して最適な解決策を提供するものです。 これらのパターンを学ぶことは、経験の浅い開発者がソフトウェア設計を素早く簡単に習得するのに役立ちます。

## デザインパターンの分類

デザインパターンの参考文献『オブジェクト指向における再利用のためのデザインパターン』によると、23のデザインパターンがあるとされている。これらのパターンは、「生成」「構造」「振る舞い」の3つに大別される。もちろん、デザインパターンのもう一つのカテゴリーであるJ2EEデザインパターンについても説明します。

| 分類     | パタン名                                                     |
| -------- | ------------------------------------------------------------ |
| 生成     | Abstract Factory<br/>Factory Method<br/>Singleton<br/>Builder<br/>Prototype |
| 構造     | Adaptor<br>Bridge<br>Composite<br>Decorator<br>Facade<br>Flyweight<br>Proxy |
| 振る舞い | Chain of Responsibility<br/>Command<br/>Interpreter<br/>Iterator<br/>Mediator<br/>Memento<br/>Observer<br/>State<br/>Strategy<br/>Template Method<br/>Visitor |



以下は、デザインパターン全体の関係を説明するためのイメージ図です。

![](D:\Users\Iehana\Documents\Books\runoob-jp\design-pattern\img\the-relationship-between-design-patterns.jpg)

## デザインパターンの五つの原則（SOLID）原則

- S … Single Responsibility Principle: 単一責任の原則
- O … Open-Closed Principle: 開放閉鎖の原則
- L … Liskov Substitution Principle: リスコフの置換原則
- I … Interface Segregation Principle: インターフェイス分離の原則
- D … Dependency Inversion Principle: 依存性逆転の原則

### 1　Open-Closed Principle: 開放閉鎖の原則

オープン・クローズの原則とは、「拡張にはオープン、修正にはクローズ」という意味です。プログラムを拡張する必要がある場合、元のコードを変更してホットプラグ効果を得ることはできない。つまり、拡張性があり、保守やアップグレードが容易なプログラムにすることです。この効果を得るためには、インターフェースや抽象クラスを利用する必要があります。

### 2　Liskov Substitution Principle: リスコフの置換原則

リスコフ置換原理は、オブジェクト指向設計の基本原則の一つである。 LSPは継承再利用の要であり、派生クラスがベースクラスを置き換えることができ、ソフトウェアユニットの機能に影響がない場合にのみ、ベースクラスを本当に再利用することができ、派生クラスもベースクラスに基づいて新しい動作を追加することができるのです。リヒター置換原理は、「オープン・クローズ原理」を補完するものです。Open-Closedの原則を実現するための重要なステップは抽象化であり、ベースクラスとサブクラスの間の継承関係は抽象化の具体的な実装であるから、リヒター置換原理は抽象化を実装するための具体的なステップの仕様であると言える。

### 3　Dependency Inversion Principle: 依存性逆転の原則

この原則は、オープンとクローズの原則の基礎であり、具体的な内容：インターフェイスプログラミングのため、抽象に依存するが、具体的なものではありません。

### 4　Interface Segregation Principle: インターフェイス分離の原則

この原則は、単一のインターフェイスの使用よりも、複数の分離されたインターフェイスの使用が優れていることを意味します。また、もう一つの意味として、クラス間の結合を減らすという意味もあります。これは、デザインパターンが実際に大規模なソフトウェアアーキテクチャから、簡単にアップグレードし、ソフトウェアの設計思想を維持するために見ることができる、それは依存関係の削減を強調し、結合を減らす。

### 5　Single Responsibility Principle: 単一責任の原則

単一責任の原則とは、ソフトウェアを構成する個々のモジュールが責任を負う対象は、たったひとつにするべきであるという原則です。

ソフトウェアの既存の機能に変更を加えたり新たな機能を追加する理由は、そのソフトウェアのユーザーやステークホルダーを満足させるためです。この「ソフトウェアのユーザーやステークホルダー」が、単一責任の原則における「モジュールが責任を負う対象」です。